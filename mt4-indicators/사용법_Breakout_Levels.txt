====================================================================
SMC Breakout Levels - 돌파 예상 구간 인디케이터
====================================================================

📍 파일 위치:
C:\claude desktop 공유폴더\my-first-video\mt4-indicators\SMC_Breakout_Levels.mq4

====================================================================
🎯 핵심 기능:
====================================================================

이 인디케이터는 EA에서 지정가 주문을 걸 위치를 미리 점선으로 표시합니다.

✅ 돌파 예상 구간을 점선으로 표시
✅ 가격이 가까워지면 자동으로 레벨 표시
✅ 더 가까운 레벨이 생기면 먼 레벨은 자동 삭제
✅ 가격이 멀어지면 자동 삭제
✅ 스윙 크기 사용자 설정 가능

====================================================================
🔧 컴파일 방법:
====================================================================

⚠️ 중요: 제가 .ex4 파일을 직접 컴파일할 수 없습니다!
         사용자가 직접 컴파일해주셔야 합니다.

1. MT4 열기

2. MetaEditor 열기 (F4 키)

3. File → Open → SMC_Breakout_Levels.mq4 선택

4. Compile 버튼 클릭 (F7 키)

5. 하단에 "0 error(s), 0 warning(s)" 확인

6. 생성된 SMC_Breakout_Levels.ex4 파일 확인

====================================================================
📊 차트에 적용:
====================================================================

1. MT4 Navigator 열기 (Ctrl + N)

2. Indicators → Custom → SMC_Breakout_Levels

3. 차트에 드래그 앤 드롭

4. 설정 창에서 파라미터 조정

====================================================================
⚙️ 파라미터 설명:
====================================================================

[기본 설정]
┌─────────────────────────────────────────────────┐
│ Swing Size (50)                                 │
│ → 스윙 크기 (좌우 확인 캔들 수)                    │
│ → 클수록 큰 스윙만 감지                           │
│ → 작을수록 작은 스윙도 감지                       │
│ → 권장: 30-70                                    │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Max Levels To Show (3)                          │
│ → 최대 표시 레벨 수                               │
│ → 각 방향(상승/하락)별로 최대 개수                │
│ → 권장: 2-5                                      │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Minimum Break Distance (20.0)                   │
│ → 최소 돌파 거리 (pips)                          │
│ → 현재 미사용 (추후 활성화 가능)                  │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Candles Before Expiry (5)                       │
│ → 레벨 만료 캔들 수                               │
│ → 이 캔들 수가 지나면 레벨 삭제 검토              │
│ → 권장: 3-10                                     │
└─────────────────────────────────────────────────┘

[표시 설정]
┌─────────────────────────────────────────────────┐
│ Show Bullish Levels (true)                      │
│ → 상승 돌파 레벨 표시 (LONG LIMIT)                │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Show Bearish Levels (true)                      │
│ → 하락 돌파 레벨 표시 (SHORT LIMIT)               │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Bullish Level Color (Lime)                      │
│ → 상승 레벨 색상                                  │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Bearish Level Color (Red)                       │
│ → 하락 레벨 색상                                  │
└─────────────────────────────────────────────────┘

====================================================================
🎮 작동 방식:
====================================================================

1. [스윙 포인트 감지]
   - 좌우 N개 캔들 비교
   - 중심 캔들이 가장 높으면 → 스윙 고점
   - 중심 캔들이 가장 낮으면 → 스윙 저점

2. [레벨 생성]
   - 가격이 스윙 고점/저점에 접근
   - 100 pips 이내면 레벨 생성
   - 점선으로 표시 (LONG LIMIT / SHORT LIMIT)

3. [자동 관리]
   ✓ 더 가까운 레벨 생성 시 → 먼 레벨 삭제
   ✓ 가격이 레벨 터치 → 레벨 삭제
   ✓ 가격이 200 pips 이상 멀어짐 → 레벨 삭제
   ✓ 최대 레벨 수 유지 (설정값)

====================================================================
📈 시각적 표시:
====================================================================

차트에 나타나는 것:

[상승 레벨]
···························· LONG LIMIT (라임색 점선)

[하락 레벨]
···························· SHORT LIMIT (빨간색 점선)

[디버그 패널]
┌─────────────────────────────────────┐
│ Breakout Levels | Long: 2 Short: 1  │
│ Swings: H:15 L:12 | Size: 50         │
└─────────────────────────────────────┘

====================================================================
💡 사용 시나리오:
====================================================================

시나리오 1: 상승 중 다음 저항 돌파 대기
┌────────────────────────────────────────┐
│ 현재가: 5000                            │
│ 스윙 고점: 5050                         │
│                                        │
│ → 5050에 LONG LIMIT 점선 표시           │
│ → EA에서는 여기에 매수 지정가 주문       │
│ → 가격이 5050 터치하면 진입             │
└────────────────────────────────────────┘

시나리오 2: 하락 중 다음 지지 돌파 대기
┌────────────────────────────────────────┐
│ 현재가: 4950                            │
│ 스윙 저점: 4900                         │
│                                        │
│ → 4900에 SHORT LIMIT 점선 표시          │
│ → EA에서는 여기에 매도 지정가 주문       │
│ → 가격이 4900 터치하면 진입             │
└────────────────────────────────────────┘

시나리오 3: 새로운 가까운 레벨 생성
┌────────────────────────────────────────┐
│ 기존: 5050에 LONG LIMIT                 │
│ 현재가: 5000                            │
│ 새 스윙: 5020 발견                      │
│                                        │
│ → 5020이 더 가까움!                     │
│ → 5050 레벨 삭제                        │
│ → 5020에 새 LONG LIMIT 표시             │
└────────────────────────────────────────┘

시나리오 4: 가격이 멀어져서 자동 삭제
┌────────────────────────────────────────┐
│ 레벨: 5050 LONG LIMIT                   │
│ 현재가: 4800 (250 pips 하락)            │
│                                        │
│ → 200 pips 이상 멀어짐                  │
│ → 레벨 자동 삭제                        │
└────────────────────────────────────────┘

====================================================================
🔧 권장 설정:
====================================================================

[스캘핑 / M5-M15]
Swing Size: 30-40
Max Levels: 2-3
Candles Before Expiry: 3-5

[데이 트레이딩 / M15-H1]
Swing Size: 50 (기본값)
Max Levels: 3
Candles Before Expiry: 5-7

[스윙 트레이딩 / H1-H4]
Swing Size: 60-80
Max Levels: 2
Candles Before Expiry: 10

====================================================================
🚀 EA 전환 시 고려사항:
====================================================================

이 인디케이터를 EA로 전환할 때:

1. [점선 → 실제 지정가 주문]
   ObjectCreate(점선) → OrderSend(OP_BUYLIMIT / OP_SELLLIMIT)

2. [자동 취소]
   RemoveLevel() → OrderDelete(ticket)

3. [주문 관리]
   - 최대 동시 주문 수 제한
   - 슬리피지 설정
   - 스프레드 고려
   - Magic Number로 구분

4. [리스크 관리]
   - 로트 크기 계산
   - 계좌 잔고 확인
   - 최대 손실 설정

====================================================================
❓ 문제 해결:
====================================================================

Q: 레벨이 안 보여요
A: 1. Swing Size를 줄여보세요 (50 → 30)
   2. 가격이 스윙 포인트에서 너무 멀리 있을 수 있음
   3. Max Levels를 늘려보세요 (3 → 5)

Q: 레벨이 너무 많아요
A: 1. Swing Size를 늘려보세요 (50 → 70)
   2. Max Levels를 줄이세요 (3 → 2)

Q: 레벨이 금방 사라져요
A: Candles Before Expiry를 늘리세요 (5 → 10)

Q: 컴파일 오류가 나요
A: 1. MT4 빌드 확인 (1260 이상 필요)
   2. MetaEditor에서 에러 메시지 확인
   3. 파일 경로에 한글이 없는지 확인

====================================================================
✅ 체크리스트:
====================================================================

인디케이터 설치 완료:
☐ SMC_Breakout_Levels.mq4 복사
☐ MetaEditor에서 컴파일 (F7)
☐ .ex4 파일 생성 확인
☐ 차트에 적용
☐ 파라미터 조정
☐ 점선 표시 확인
☐ 라벨 표시 확인
☐ 디버그 패널 확인

====================================================================
📝 다음 단계:
====================================================================

1. ✅ 인디케이터 테스트
   - 다양한 시간프레임 테스트
   - Swing Size 조정해보기
   - 레벨 생성/삭제 관찰

2. ⏭️ EA 개발 준비
   - 지정가 주문 로직
   - 리스크 관리
   - 포지션 관리

3. ⏭️ 백테스트
   - Strategy Tester로 테스트
   - 수익률 확인
   - 최적화

====================================================================
🎉 완료!
====================================================================

이제 MetaEditor에서 컴파일하고 테스트해주세요!
피드백 주시면 추가 수정하겠습니다.
